mixed-port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
secret: ""
ipv6: false

# å¯ç”¨TUNæ¨¡å¼ï¼ˆæ¨èå¼€å¯ï¼‰
tun:
  enable: false  # è‹¥éœ€TUNæ¨¡å¼è¯·æ”¹ä¸º true
  stack: system
  dns-hijack:
    - tcp://any:53
    - udp://any:53
  auto-route: true
  auto-detect-interface: true

# DNSè®¾ç½®
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 114.114.114.114
  fallback:
    - tls://1.1.1.1
    - tls://8.8.8.8
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32

# ================= èŠ‚ç‚¹é…ç½® =================
proxies:
  # --- Shadowsocks-2022 èŠ‚ç‚¹ ---
  - name: "BITTER-SERVER-1-Shadowsocks-2022-dedirock-96354141"
    type: ss
    server: 192.227.229.43
    port: 12153
    cipher: 2022-blake3-aes-128-gcm
    password: "5GzAZ2ntPtvB5SXJhPj9FA=="

  # --- AnyTLS èŠ‚ç‚¹ ---
  - name: "BITTER-SERVER-1-anytls-dedirock-96354141"
    type: anytls
    server: 192.227.229.43
    port: 62541
    uuid: 8f0de0a3-abe0-4bb5-ad03-1e23adb29ef7
    skip-cert-verify: true

  # --- Any-Reality èŠ‚ç‚¹ ---
  - name: "BITTER-SERVER-1-any-reality-dedirock-96354141"
    type: anytls
    server: 192.227.229.43
    port: 32053
    uuid: 8f0de0a3-abe0-4bb5-ad03-1e23adb29ef7
    tls: true
    servername: apple.com
    client-fingerprint: chrome
    reality-opts:
      public-key: JJtu1TMg2jS95z0i9_dU4HYb_JzOThA0YWC8ax-oyGM
      short-id: cea046c1
    network: tcp
    header:
      type: none

  # --- Hysteria2 èŠ‚ç‚¹ ---
  - name: "BITTER-SERVER-1-hy2-dedirock-96354141"
    type: hysteria2
    server: 192.227.229.43
    port: 53830
    password: 8f0de0a3-abe0-4bb5-ad03-1e23adb29ef7
    sni: www.bing.com
    skip-cert-verify: true
    alpn:
      - h3

  # --- Tuic èŠ‚ç‚¹ ---
  - name: "BITTER-SERVER-1-tuic-dedirock-96354141"
    type: tuic
    server: 192.227.229.43
    port: 52550
    uuid: 8f0de0a3-abe0-4bb5-ad03-1e23adb29ef7
    password: 8f0de0a3-abe0-4bb5-ad03-1e23adb29ef7
    ip: 192.227.229.43
    alpn: [h3]
    reduce-rtt: true
    udp-relay-mode: native
    congestion-controller: bbr
    skip-cert-verify: true
    sni: www.bing.com

# ================= ä»£ç†ç»„é…ç½® =================
proxy-groups:
  # æ‰‹åŠ¨é€‰æ‹©ç»„
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - BITTER-SERVER-1-Shadowsocks-2022-dedirock-96354141
      - BITTER-SERVER-1-anytls-dedirock-96354141
      - BITTER-SERVER-1-any-reality-dedirock-96354141
      - BITTER-SERVER-1-hy2-dedirock-96354141
      - BITTER-SERVER-1-tuic-dedirock-96354141
      - DIRECT

  # è‡ªåŠ¨æµ‹é€Ÿç»„
  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50
    proxies:
      - BITTER-SERVER-1-Shadowsocks-2022-dedirock-96354141
      - BITTER-SERVER-1-anytls-dedirock-96354141
      - BITTER-SERVER-1-any-reality-dedirock-96354141
      - BITTER-SERVER-1-hy2-dedirock-96354141
      - BITTER-SERVER-1-tuic-dedirock-96354141

  # åˆ†ç­–ç•¥ç»„
  - name: ğŸ“º å›½å¤–åª’ä½“
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - DIRECT

  - name: ğŸŒ å›½å¤–ç½‘ç«™
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - DIRECT

  - name: ğŸ¤– AIæœåŠ¡
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©

  - name: ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: ğŸš« å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT

# ================= è§„åˆ™é…ç½® =================
rules:
  # æœ¬åœ°/å±€åŸŸç½‘
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  
  # å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-KEYWORD,adservice,ğŸš« å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,doubleclick.net,ğŸš« å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,googleadservices.com,ğŸš« å¹¿å‘Šæ‹¦æˆª
  
  # å›½å†…ç›´è¿
  - GEOIP,CN,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,cn,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,qq.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,baidu.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,taobao.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,jd.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,bilibili.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,163.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  
  # AIæœåŠ¡
  - DOMAIN-SUFFIX,openai.com,ğŸ¤– AIæœåŠ¡
  - DOMAIN-SUFFIX,claude.ai,ğŸ¤– AIæœåŠ¡
  
  # å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,youtube.com,ğŸ“º å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,netflix.com,ğŸ“º å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,disneyplus.com,ğŸ“º å›½å¤–åª’ä½“
  
  # å¸¸ç”¨å›½å¤–æœåŠ¡
  - DOMAIN-SUFFIX,google.com,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,github.com,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,telegram.org,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,twitter.com,ğŸŒ å›½å¤–ç½‘ç«™
  
  # å…œåº•è§„åˆ™
  - GEOIP,!CN,ğŸŒ å›½å¤–ç½‘ç«™
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
