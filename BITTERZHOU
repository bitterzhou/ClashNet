# Clash Meta (Mihomo) é…ç½®æ–‡ä»¶ - å…¨åè®®æ•´åˆç‰ˆ
mixed-port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
secret: ""
ipv6: false

# å¯ç”¨TUNæ¨¡å¼ï¼ˆæ¨èå¼€å¯ï¼‰
tun:
  enable: false  # è‹¥éœ€TUNæ¨¡å¼è¯·æ”¹ä¸º true
  stack: system
  dns-hijack:
    - tcp://any:53
    - udp://any:53
  auto-route: true
  auto-detect-interface: true

# DNSè®¾ç½®
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 114.114.114.114
  fallback:
    - tls://1.1.1.1
    - tls://8.8.8.8
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32

# ================= èŠ‚ç‚¹é…ç½® =================
proxies:
  # --- åŸ TUIC èŠ‚ç‚¹ ---
  - name: "TUIC-bitterzhou"
    type: tuic
    server: 198.46.145.251
    port: 7777
    uuid: c3e44804-5149-4bfe-9a33-d5051af3c65e
    password: c3e44804-5149-4bfe-9a33-d5051af3c65e
    ip: 198.46.145.251
    heartbeat-interval: 10000
    alpn: [h3]
    reduce-rtt: true
    udp-relay-mode: native
    congestion-controller: bbr
    skip-cert-verify: true
    sni: www.bing.com

  - name: "tuic-dedirock-96354141"
    type: tuic
    server: 192.227.229.43
    port: 7777
    uuid: d7c2f198-a82d-4400-bcc6-2798ef39a6f7
    password: d7c2f198-a82d-4400-bcc6-2798ef39a6f7
    ip: 192.227.229.43
    alpn: [h3]
    reduce-rtt: true
    udp-relay-mode: native
    congestion-controller: bbr
    skip-cert-verify: true
    sni: www.bing.com

  # --- æ–°å¢ VLESS XHTTP Reality èŠ‚ç‚¹ ---
  - name: "vl-xhttp-reality-enc-dedirock"
    type: vless
    server: 192.227.229.43
    port: 30137
    uuid: 53b47b5d-1d00-4457-84d3-8f2298721e6c
    network: xhttp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: apple.com
    client-fingerprint: chrome
    reality-opts:
      public-key: 1zdm4whIs0qM5FXrEP6mWRbE3AuYaLx2IcqhQC-MTkM
      short-id: 5bf31b91
    xhttp-opts:
      mode: auto
      path: "/53b47b5d-1d00-4457-84d3-8f2298721e6c-xh"

  # --- æ–°å¢ VLESS XHTTP (æ— Reality) èŠ‚ç‚¹ ---
  - name: "vl-xhttp-enc-dedirock"
    type: vless
    server: 192.227.229.43
    port: 60079
    uuid: 53b47b5d-1d00-4457-84d3-8f2298721e6c
    network: xhttp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    skip-cert-verify: true
    xhttp-opts:
      mode: auto
      path: "/53b47b5d-1d00-4457-84d3-8f2298721e6c-vx"

  # --- æ–°å¢ VLESS WS èŠ‚ç‚¹ ---
  - name: "vl-ws-enc-dedirock"
    type: vless
    server: 192.227.229.43
    port: 64694
    uuid: 53b47b5d-1d00-4457-84d3-8f2298721e6c
    network: ws
    tls: true
    udp: true
    flow: xtls-rprx-vision
    skip-cert-verify: true
    ws-opts:
      path: "/53b47b5d-1d00-4457-84d3-8f2298721e6c-vw"
      headers:
        Host: 192.227.229.43

  # --- æ–°å¢ VLESS TCP Reality èŠ‚ç‚¹ ---
  - name: "vl-reality-vision-dedirock"
    type: vless
    server: 192.227.229.43
    port: 59544
    uuid: 53b47b5d-1d00-4457-84d3-8f2298721e6c
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: apple.com
    client-fingerprint: chrome
    reality-opts:
      public-key: 1zdm4whIs0qM5FXrEP6mWRbE3AuYaLx2IcqhQC-MTkM
      short-id: 5bf31b91

  # --- æ–°å¢ Shadowsocks-2022 èŠ‚ç‚¹ ---
  - name: "Shadowsocks-2022-dedirock"
    type: ss
    server: 192.227.229.43
    port: 65201
    cipher: 2022-blake3-aes-128-gcm
    password: "ZGnERiNqPEe9+cWFyX5nvw=="

  # --- æ–°å¢ Hysteria2 èŠ‚ç‚¹ ---
  - name: "hy2-dedirock"
    type: hysteria2
    server: 192.227.229.43
    port: 40232
    password: 53b47b5d-1d00-4457-84d3-8f2298721e6c
    sni: www.bing.com
    skip-cert-verify: true
    alpn:
      - h3

# ================= ä»£ç†ç»„é…ç½® =================
proxy-groups:
  # æ‰‹åŠ¨é€‰æ‹©ç»„
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - "TUIC-bitterzhou"
      - "tuic-dedirock-96354141"
      - "vl-xhttp-reality-enc-dedirock"
      - "vl-xhttp-enc-dedirock"
      - "vl-ws-enc-dedirock"
      - "vl-reality-vision-dedirock"
      - "Shadowsocks-2022-dedirock"
      - "hy2-dedirock"
      - DIRECT

  # è‡ªåŠ¨æµ‹é€Ÿç»„
  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50
    proxies:
      - "TUIC-bitterzhou"
      - "tuic-dedirock-96354141"
      - "vl-xhttp-reality-enc-dedirock"
      - "vl-xhttp-enc-dedirock"
      - "vl-ws-enc-dedirock"
      - "vl-reality-vision-dedirock"
      - "Shadowsocks-2022-dedirock"
      - "hy2-dedirock"

  # åˆ†ç­–ç•¥ç»„
  - name: ğŸ“º å›½å¤–åª’ä½“
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - DIRECT

  - name: ğŸŒ å›½å¤–ç½‘ç«™
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - DIRECT

  - name: ğŸ¤– AIæœåŠ¡
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ è‡ªåŠ¨é€‰æ‹©

  - name: ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: ğŸš« å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT

# ================= è§„åˆ™é…ç½® =================
rules:
  # æœ¬åœ°/å±€åŸŸç½‘
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  
  # å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-KEYWORD,adservice,ğŸš« å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,doubleclick.net,ğŸš« å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,googleadservices.com,ğŸš« å¹¿å‘Šæ‹¦æˆª
  
  # å›½å†…ç›´è¿
  - GEOIP,CN,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,cn,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,qq.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,baidu.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,taobao.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,jd.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,bilibili.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  - DOMAIN-SUFFIX,163.com,ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿
  
  # AIæœåŠ¡
  - DOMAIN-SUFFIX,openai.com,ğŸ¤– AIæœåŠ¡
  - DOMAIN-SUFFIX,claude.ai,ğŸ¤– AIæœåŠ¡
  
  # å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,youtube.com,ğŸ“º å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,netflix.com,ğŸ“º å›½å¤–åª’ä½“
  - DOMAIN-SUFFIX,disneyplus.com,ğŸ“º å›½å¤–åª’ä½“
  
  # å¸¸ç”¨å›½å¤–æœåŠ¡
  - DOMAIN-SUFFIX,google.com,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,github.com,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,telegram.org,ğŸŒ å›½å¤–ç½‘ç«™
  - DOMAIN-SUFFIX,twitter.com,ğŸŒ å›½å¤–ç½‘ç«™
  
  # å…œåº•è§„åˆ™
  - GEOIP,!CN,ğŸŒ å›½å¤–ç½‘ç«™
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
